<!DOCTYPE html>
<html lang="de">
  <head>
      <meta charset="utf-8" />
      <meta name="viewport" content="width=device-width,initial-scale=1" />
      <title>PTA - Auswertung Potentiometrie</title>
      <link rel="stylesheet" href="https://pyscript.net/releases/2025.2.2/core.css">
      <script type="module" src="https://pyscript.net/releases/2025.2.2/core.js"></script>

      <!-- for splashscreen -->
        <style>
            #loading { outline: none; border: none; background: transparent }
        </style>
        <script type="module">
            const loading = document.getElementById('loading');
            addEventListener('py:ready', () => loading.close());
            loading.showModal();
        </script>
  </head>
  <body>
    <dialog id="loading">
        <h1>Loading...</h1>
    </dialog>

    <!-- TODO: Fill in our custom application code here... -->

    <section class="input">
        <table>
            <thead>
                <tr>
                    <th><b>Volumen in mL</b></th>
                    <th><b>pH-Wert</b></th>
                </tr>
            </thead>
            <tbody>

            </tbody>
        </table>

        <input id="rowAdderCounter" type="number" value="1" name="Anzahl">
        <input type="button" value="HinzufÃ¼gen" onclick="addRow(document.querySelector('input#rowAdderCounter').value)">

        <br>

        <input type="button" value="Tangentemethode" py-click="tangente">
        <input type="button" value="Ableitungsmethode" py-click="ableitung">

        <script type="application/javascript">
            function addRow(numberOfRows) {
                let table = document.querySelector("section.input table tbody");
                for (let i = 0; i < numberOfRows; i++) {
                    let row = table.insertRow(-1);
                    let cell1 = row.insertCell(0);
                    let cell2 = row.insertCell(1);
                    cell1.innerHTML = "<input type='number' name='volumen'>";
                    cell2.innerHTML = "<input type='number' name='ph'>";
                }
            }
        </script>
    </section>

    <div id="output">Kein Output</div>

    <section class="pyscript">
        <div id="mpl"></div>
        <script type="py" src="./main.py" config="./pyscript.toml"></script>
    </section>
  </body>
</html>
